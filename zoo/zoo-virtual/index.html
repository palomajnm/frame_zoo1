<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zoo Virtual - Entrada</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
</head>
<body>
  <a-scene>

          <a-scene>
            <a-assets>
              <img id="sky360"
              src="./assets/360/zoo-entrance.jpg">
            </a-assets>
          <a-sky src="#sky360"></a-sky>
          </a-scene>
    <!-- Iluminación -->
    <a-light type="ambient" color="#BBB" intensity="0.8"></a-light>
    <a-light type="directional" color="#FFF" intensity="0.6" position="5 10 5"></a-light>

    <!-- Portal hacia Escena 2 -->
    <a-entity position="0 1.6 -4">
      <!-- Portal visual -->
      <a-cylinder 
        id="portal"
        color="#4A90E2" 
        height="2" 
        radius="1" 
        opacity="0.7"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
        class="clickable">
      </a-cylinder>
      
      <!-- Texto informativo -->
      <a-text 
        value="HABITAT PINGUINOS\n\nCLICK AQUI" 
        align="center" 
        color="#FFF" 
        width="4"
        position="0 2 0">
      </a-text>
      
      <!-- Área clicable invisible -->
      <a-box 
        color="#4A90E2" 
        opacity="0" 
        width="2.5" 
        height="3.5" 
        depth="0.5"
        class="clickable">
      </a-box>
    </a-entity>

    <!-- Letrero de bienvenida -->
    <a-entity position="0 2.5 -6">
      <a-plane 
        color="#8B4513" 
        width="5" 
        height="1.5">
      </a-plane>
      <a-text 
        value="BIENVENIDOS AL ZOO VIRTUAL\nEquipo 4: Maria, Jose Angel, Paloma" 
        align="center" 
        color="#FFD700" 
        width="4.5"
        position="0 0 0.1">
      </a-text>
    </a-entity>

    <!-- Panel de información -->
    <a-entity position="-3 1.5 -3" rotation="0 30 0">
      <a-plane color="#2C3E50" width="2" height="1.8" opacity="0.9"></a-plane>
      <a-text 
        id="infoPanel"
        value="INFORMACION\n\nHorario: 9:00-18:00\nVisitantes: 1.247\nTemperatura: 22°C\n\nClick portal azul\npara continuar" 
        align="center" 
        color="#ECF0F1" 
        width="1.8"
        position="0 0 0.1"
        wrap-count="20">
      </a-text>
    </a-entity>

    <!-- Árboles decorativos -->
    <a-entity position="5 0 -5">
      <a-cylinder color="#8B4513" height="3" radius="0.3"></a-cylinder>
      <a-cone color="#228B22" height="2" radius-bottom="1.5" position="0 3.5 0"></a-cone>
    </a-entity>

    <a-entity position="-5 0 -5">
      <a-cylinder color="#8B4513" height="2.5" radius="0.25"></a-cylinder>
      <a-cone color="#228B22" height="1.8" radius-bottom="1.2" position="0 3 0"></a-cone>
    </a-entity>

    <!-- Rocas decorativas -->
    <a-sphere color="#808080" radius="0.5" position="3 0.25 -3"></a-sphere>
    <a-sphere color="#696969" radius="0.4" position="-4 0.2 -4"></a-sphere>

    <!-- Suelo -->
    <a-plane 
      color="#7CFC00" 
      rotation="-90 0 0" 
      width="50" 
      height="50" 
      position="0 0 0">
    </a-plane>

    <!-- Cámara -->
    <a-entity camera look-controls wasd-controls position="0 1.6 0">
      <a-cursor
        color="#4A90E2"
        raycaster="objects: .clickable">
      </a-cursor>
    </a-entity>
  </a-scene>

  <!-- Scripts -->
  <script>
    console.log('✓ Script index cargado');
    
    const scene = document.querySelector('a-scene');
    
    scene.addEventListener('loaded', function() {
      console.log('✓ Escena entrada cargada');
      
      // Navegación
      const clickables = document.querySelectorAll('.clickable');
      
      clickables.forEach(function(element) {
        element.addEventListener('click', function() {
          console.log('→ Navegando a habitat');
          window.location.href = 'escena-habitat.html';
        });
      });
      
      // Efecto hover
      const portal = document.querySelector('#portal');
      
      portal.addEventListener('mouseenter', function() {
        portal.setAttribute('scale', '1.1 1.1 1.1');
        portal.setAttribute('color', '#5BA3FF');
      });
      
      portal.addEventListener('mouseleave', function() {
        portal.setAttribute('scale', '1 1 1');
        portal.setAttribute('color', '#4A90E2');
      });

      // Actualizar info panel cada 10 segundos
      function updateInfo() {
        const panel = document.querySelector('#infoPanel');
        const visitors = 1200 + Math.floor(Math.random() * 100);
        const temp = 20 + Math.floor(Math.random() * 5);
        
        panel.setAttribute('value',
          `INFORMACION\n\n` +
          `Horario: 9:00-18:00\n` +
          `Visitantes: ${visitors}\n` +
          `Temperatura: ${temp}°C\n\n` +
          `Click portal azul\npara continuar`
        );
      }
      
      setInterval(updateInfo, 10000);
      
      console.log('✓ TODO configurado');
    });
  </script>

  <style>
    body {
      margin: 0;
      overflow: hidden;
    }
  </style>
</body>
</html>